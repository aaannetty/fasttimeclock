{"mappings":"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","sources":["src/js/helpers/refs.js","src/js/helpers/getTimeComponents.js","src/js/helpers/declensionNum.js","src/js/helpers/addPad.js","src/js/localStorageAPI.js","src/index.js"],"sourcesContent":["const refs = {\n  buttons: document.querySelector('.js-buttons__wrapper'),\n  clock: document.querySelector('.js-clock'),\n  clockItem: document.querySelector('.js-clock-items'),\n};\nexport default refs;\n","const timeZone = (new Date().getTimezoneOffset() / 60) * -1;\n\nexport function getTimeComponents(time) {\n  const hours = Math.floor((time / 1000 / 60 / 60) % 24) + timeZone;\n  const minutes = Math.floor(time / 1000 / 60) % 60;\n  const seconds = Math.floor(time / 1000) % 60;\n\n  return {\n    hours,\n    minutes,\n    seconds,\n  };\n}\n","export function declensionNum(num, words) {\n  return words[\n    num % 100 > 4 && num % 100 < 20\n      ? 2\n      : [2, 0, 1, 1, 1, 2][num % 10 < 5 ? num % 10 : 5]\n  ];\n}\n","export function addPad(value) {\n  return String(value).padStart(2, 0);\n}\n","const save = (key, value) => {\n  try {\n    const serializedState = JSON.stringify(value);\n    localStorage.setItem(key, serializedState);\n  } catch (error) {\n    console.error('Set state error: ', error.message);\n  }\n};\n\nconst load = key => {\n  try {\n    const serializedState = localStorage.getItem(key);\n    return serializedState === null ? undefined : JSON.parse(serializedState);\n  } catch (error) {\n    console.error('Get state error: ', error.message);\n  }\n};\n\nconst remove = key => {\n  try {\n    localStorage.removeItem(key);\n  } catch (error) {\n    console.log('Remove item error: ', error.message);\n  }\n};\n\nexport default {\n  save,\n  load,\n  remove,\n};\n","import refs from './js/helpers/refs';\nimport { getTimeComponents } from './js/helpers/getTimeComponents';\nimport { declensionNum } from './js/helpers/declensionNum';\n\nimport { addPad } from './js/helpers/addPad';\nimport localStorageApi from './js/localStorageAPI';\n\nconst { buttons, clock, clockItem } = refs;\nlet showAmPm = false;\nlet formatTime = false;\nlet intervalId = null;\n\nbuttons.addEventListener('click', onbtnsClick);\n\nfunction onbtnsClick(evt) {\n  if (evt.target.matches('.js-hide')) {\n    onHideBtnClick();\n\n    return;\n  }\n\n  if (evt.target.matches('.js-change')) {\n    onChangeBtnClick();\n\n    return;\n  }\n\n  onShowBtnClick();\n}\n\nfunction startClock(rootSelector) {\n  intervalId = setInterval(() => {\n    const currentTime = Date.now();\n\n    let { hours, minutes, seconds } = getTimeComponents(currentTime);\n    const timeZoneName = hours >= 12 ? 'PM' : 'AM';\n    hours = formatTime ? hours % 12 : hours % 24;\n\n    rootSelector.querySelector('.js-clock__hours').textContent = addPad(hours);\n\n    rootSelector.querySelector('.js-clock__minutes').textContent =\n      addPad(minutes);\n    rootSelector.querySelector('.js-clock__seconds').textContent =\n      addPad(seconds);\n    rootSelector.querySelector('.js-clock__timezone').textContent = showAmPm\n      ? timeZoneName\n      : '';\n\n    rootSelector.querySelector('.js-clock__hours').dataset.title =\n      declensionNum(hours, ['година', 'години', 'годин']);\n    rootSelector.querySelector('.js-clock__minutes').dataset.title =\n      declensionNum(minutes, ['хвилина', 'хвилини', 'хвилин']);\n    rootSelector.querySelector('.js-clock__seconds').dataset.title =\n      declensionNum(seconds, ['секунда', 'секунди', 'секунд']);\n  }, 1000);\n}\n\n// Допоміжні функціій\nfunction onChangeBtnClick() {\n  if (buttons.querySelector('.js-change').textContent.trim() === 'AM/PM') {\n    showAmPm = true;\n    formatTime = true;\n\n    buttons.querySelector('.js-change').textContent = 'format 24h';\n  } else {\n    showAmPm = false;\n    formatTime = false;\n    buttons.querySelector('.js-change').textContent = 'AM/PM';\n  }\n}\n\nfunction onHideBtnClick() {\n  clock.classList.add('is-hidden');\n  buttons.querySelector('.js-show').classList.remove('is-hidden');\n  buttons.querySelector('.js-hide').classList.add('is-hidden');\n  buttons.querySelector('.js-change').classList.add('is-hidden');\n  stopClock();\n  localStorageApi.save('show-clock', false);\n}\n\nfunction onShowBtnClick() {\n  setTimeout(() => {\n    clock.classList.remove('is-hidden');\n    buttons.querySelector('.js-show').classList.add('is-hidden');\n    buttons.querySelector('.js-hide').classList.remove('is-hidden');\n    buttons.querySelector('.js-change').classList.remove('is-hidden');\n  }, 1000);\n  startClock(clockItem);\n  localStorageApi.save('show-clock', true);\n}\n\nfunction stopClock() {\n  clearInterval(intervalId);\n}\n\nif (localStorageApi.load('show-clock')) {\n  buttons.querySelector('.js-show').classList.add('is-hidden');\n  onShowBtnClick();\n}\n"],"names":["$94f5dbd4eccf096e$export$2e2bcd8739ae039","buttons","document","querySelector","clock","clockItem","$03e253e3927afe30$var$timeZone","Date","getTimezoneOffset","$a27feec0c53e2ce0$export$72ccfa8c87f84ff8","num","words","$fea59916eba6e6c7$export$683b33b4ba13994c","value","String","padStart","$48d731dcdd8bc0d3$export$2e2bcd8739ae039","save","key","serializedState","JSON","stringify","localStorage","setItem","error","console","message","load","getItem","undefined","parse","remove","removeItem","log","$b8f9b7833fa37166$var$buttons","$b8f9b7833fa37166$var$clock","$b8f9b7833fa37166$var$clockItem","$b8f9b7833fa37166$var$showAmPm","$b8f9b7833fa37166$var$formatTime","$b8f9b7833fa37166$var$intervalId","$b8f9b7833fa37166$var$startClock","rootSelector","setInterval","time","currentTime","now","ref","hours","Math","floor","minutes","seconds","timeZoneName","textContent","dataset","title","$b8f9b7833fa37166$var$onShowBtnClick","setTimeout","classList","add","addEventListener","evt","target","matches","clearInterval","trim"],"version":3,"file":"index.69858dee.js.map"}