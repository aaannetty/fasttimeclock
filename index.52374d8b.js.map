{"mappings":"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","sources":["src/js/helpers/refs.js","src/js/helpers/getTimeComponents.js","src/js/helpers/declensionNum.js","src/js/helpers/addPad.js","src/js/localStorageAPI.js","src/index.js"],"sourcesContent":["const refs = {\n  buttons: document.querySelector('.js-buttons__wrapper'),\n  clock: document.querySelector('.js-clock'),\n  clockItem: document.querySelector('.js-clock-items'),\n};\nexport default refs;\n","const timeZone = (new Date().getTimezoneOffset() / 60) * -1;\n\nexport function getTimeComponents(time) {\n  const hours = Math.floor((time / 1000 / 60 / 60) % 24) + timeZone;\n  const minutes = Math.floor(time / 1000 / 60) % 60;\n  const seconds = Math.floor(time / 1000) % 60;\n\n  return {\n    hours,\n    minutes,\n    seconds,\n  };\n}\n","export function declensionNum(num, words) {\n  return words[\n    num % 100 > 4 && num % 100 < 20\n      ? 2\n      : [2, 0, 1, 1, 1, 2][num % 10 < 5 ? num % 10 : 5]\n  ];\n}\n","export function addPad(value) {\n  return String(value).padStart(2, 0);\n}\n","const save = (key, value) => {\n  try {\n    const serializedState = JSON.stringify(value);\n    localStorage.setItem(key, serializedState);\n  } catch (error) {\n    console.error('Set state error: ', error.message);\n  }\n};\n\nconst load = key => {\n  try {\n    const serializedState = localStorage.getItem(key);\n    return serializedState === null ? undefined : JSON.parse(serializedState);\n  } catch (error) {\n    console.error('Get state error: ', error.message);\n  }\n};\n\nconst remove = key => {\n  try {\n    localStorage.removeItem(key);\n  } catch (error) {\n    console.log('Remove item error: ', error.message);\n  }\n};\n\nexport default {\n  save,\n  load,\n  remove,\n};\n","import refs from './js/helpers/refs';\nimport { getTimeComponents } from './js/helpers/getTimeComponents';\nimport { declensionNum } from './js/helpers/declensionNum';\n\nimport { addPad } from './js/helpers/addPad';\nimport localStorageApi from './js/localStorageAPI';\n\nconst { buttons, clock, clockItem } = refs;\nlet showAmPm = false;\nlet formatTime = false;\nlet intervalId = null;\n\nbuttons.addEventListener('click', onbtnsClick);\n\nfunction onbtnsClick(evt) {\n  if (evt.target.matches('.js-hide')) {\n    onHideBtnClick();\n\n    return;\n  }\n\n  if (evt.target.matches('.js-change')) {\n    onChangeBtnClick();\n\n    return;\n  }\n\n  onShowBtnClick();\n}\n\nfunction startClock(rootSelector) {\n  intervalId = setInterval(() => {\n    const currentTime = Date.now();\n\n    let { hours, minutes, seconds } = getTimeComponents(currentTime);\n    const timeZoneName = hours >= 12 ? 'PM' : 'AM';\n    hours = formatTime ? hours % 12 : hours % 24;\n\n    rootSelector.querySelector('.js-clock__hours').textContent = addPad(hours);\n\n    rootSelector.querySelector('.js-clock__minutes').textContent =\n      addPad(minutes);\n    rootSelector.querySelector('.js-clock__seconds').textContent =\n      addPad(seconds);\n    rootSelector.querySelector('.js-clock__timezone').textContent = showAmPm\n      ? timeZoneName\n      : '';\n\n    rootSelector.querySelector('.js-clock__hours').dataset.title =\n      declensionNum(hours, ['година', 'години', 'годин']);\n    rootSelector.querySelector('.js-clock__minutes').dataset.title =\n      declensionNum(minutes, ['хвилина', 'хвилини', 'хвилин']);\n    rootSelector.querySelector('.js-clock__seconds').dataset.title =\n      declensionNum(seconds, ['секунда', 'секунди', 'секунд']);\n  }, 1000);\n}\n\n// Допоміжні функціій\nfunction onChangeBtnClick() {\n  if (buttons.querySelector('.js-change').textContent.trim() === 'AM/PM') {\n    showAmPm = true;\n    formatTime = true;\n\n    buttons.querySelector('.js-change').textContent = 'format 24h';\n  } else {\n    showAmPm = false;\n    formatTime = false;\n    buttons.querySelector('.js-change').textContent = 'AM/PM';\n  }\n}\n\nfunction onHideBtnClick() {\n  clock.classList.add('is-hidden');\n  buttons.querySelector('.js-show').classList.remove('is-hidden');\n  buttons.querySelector('.js-hide').classList.add('is-hidden');\n  buttons.querySelector('.js-change').classList.add('is-hidden');\n  stopClock();\n  localStorageApi.save('show-clock', false);\n}\n\nfunction onShowBtnClick() {\n  setTimeout(() => {\n    clock.classList.remove('is-hidden');\n    buttons.querySelector('.js-show').classList.add('is-hidden');\n    buttons.querySelector('.js-hide').classList.remove('is-hidden');\n    buttons.querySelector('.js-change').classList.remove('is-hidden');\n  }, 1000);\n  startClock(clockItem);\n  localStorageApi.save('show-clock', true);\n}\n\nfunction stopClock() {\n  clearInterval(intervalId);\n}\n\nif (localStorageApi.load('show-clock')) {\n  buttons.querySelector('.js-show').classList.add('is-hidden');\n  onShowBtnClick();\n}\n"],"names":["$0826299773b34c91$export$2e2bcd8739ae039","buttons","document","querySelector","clock","clockItem","$fd2ef16dac45a06e$var$timeZone","Date","getTimezoneOffset","$17823b16c1603888$export$72ccfa8c87f84ff8","num","words","$8e7ebb3f995aff74$export$683b33b4ba13994c","value","String","padStart","$f1e93b4660a948dd$export$2e2bcd8739ae039","key","serializedState","JSON","stringify","localStorage","setItem","error","console","message","getItem","undefined","parse","removeItem","log","$1f0dc3b9307be026$var$buttons","$1f0dc3b9307be026$var$clock","$1f0dc3b9307be026$var$clockItem","$1f0dc3b9307be026$var$showAmPm","$1f0dc3b9307be026$var$formatTime","$1f0dc3b9307be026$var$intervalId","$1f0dc3b9307be026$var$startClock","rootSelector","setInterval","currentTime","now","hours","minutes","seconds","time","Math","floor","timeZoneName","textContent","dataset","title","$1f0dc3b9307be026$var$onShowBtnClick","setTimeout","classList","remove","add","save","addEventListener","evt","target","matches","clearInterval","trim","load"],"version":3,"file":"index.52374d8b.js.map"}